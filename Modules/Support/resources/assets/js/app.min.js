let showCallBackData=function(){$(document).find("#msg_body").val("")};$(document).ready((function(){$(".chat-list").find(".user-wise_message").first().trigger("click")})),$(document).find(".chat-title").each((function(){$(document).find(".search-btn",this).on("click",(function(e){e.preventDefault(),$(document).find(".conversation-search").slideToggle()}))})),$(document).on("click",".user-wise_message",(function(){let action=$(this).attr("data-action"),_token=$('input[name="_token"]').val(),id=$(this).attr("data-id");console.log({id:id}),$("body").find("#message_user_id").val(id),$.ajax({method:"GET",url:action,processData:!1,contentType:!1,cache:!1,dataType:"html",async:!1,data:{_token:_token,id:id},success:function(res){$("#showMessageContent").empty(),$("#showMessageContent").html(res)},error:function(res){}})})),$("body").on("click","#sentMessage",(function(){let actionUrl=$("body").find("#message-form").attr("data-insert"),message_body=$("body").find("#msg_body").val(),messageUserId=$("body").find("#message_user_id").val(),_token=$('input[name="_token"]').val();if(""==message_body)return warning_alert("Please Enter Message","Support"),!1;$.ajax({method:"POST",url:actionUrl,dataType:"json",data:{message:message_body,userid:messageUserId,_token:_token},success:function(res){"send-message"==res.type&&$(".chat-list").find(".returnData_"+messageUserId).trigger("click")},error:function(res){}})})),$("body").on("keyup","#search_box",(function(){let actionUrl=$(this).attr("data-action"),search_box=$(this).val(),_token=$('input[name="_token"]').val();$.ajax({method:"GET",url:actionUrl,dataType:"html",data:{userid:search_box,_token:_token},success:function(res){$(".chat-list").empty(),$(".chat-list").html(res)},error:function(res){}})})),$("body").on("keypress","#msg_body",(function(event){13===event.keyCode&&$("body").find("#sentMessage").trigger("click")})),$("body").on("scroll",".message-content-scroll",(function(event){var $scrollableElement=$(event.target).closest(".message-content-scroll"),scrollTop=$scrollableElement.scrollTop(),scrollHeight=$scrollableElement.prop("scrollHeight"),windowHeight=$scrollableElement.height();console.log("windowHeight",windowHeight),scrollTop+windowHeight>=scrollHeight&&$.ajax({url:"your-ajax-endpoint-url",type:"GET",data:{},success:function(response){},error:function(xhr,status,error){}})})),$(document).ready((function(){$("#checkIdentify").scroll((function(){let loading=!1,container=$(".nav.chat-list"),scrollPosition=container.scrollTop(),containerHeight=container.outerHeight(),contentHeight=container[0].scrollHeight,actionUrl=$("#onload_url").val(),_token=$('input[name="_token"]').val(),pageNo=+$("#page_increment").val();scrollPosition+containerHeight>=contentHeight&&!loading&&(loading=!0,$.ajax({method:"GET",url:actionUrl,dataType:"html",data:{pageNo:pageNo,_token:_token},success:function(res){$(".chat-list").append(res),$("#page_increment").val(pageNo+1),console.log("--------------------",res)},error:function(res){}}),container[0].scrollHeight=scrollPosition+containerHeight)}))}));